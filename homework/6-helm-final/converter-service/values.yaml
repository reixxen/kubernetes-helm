app:
  name: app
  replicaCount: 1
  image:
    registry: ghcr.io/reixxen/conv-app
    tag: "latest"
    pullPolicy: IfNotPresent
  containerName: app
  containerPort:
    http: 80
  resources:
    limits:
      cpu: 200m
      memory: 500Mi
    requests:
      cpu: 100m
      memory: 250Mi
  service:
    type: ClusterIP
    ports:
      http: 80
  config:
    viteDomain: "converter"

api:
  name: api
  replicaCount: 1
  image:
    registry: ghcr.io/reixxen/conv-api
    tag: "latest"
    pullPolicy: IfNotPresent
  containerName: api
  containerPort:
    http: 3000
  resources:
    limits:
      cpu: 200m
      memory: 500Mi
    requests:
      cpu: 100m
      memory: 250Mi
  service:
    type: ClusterIP
    ports:
      http: 3000
  config:
    amqpExchange: "converter"
    amqpHostname: "rabbitmq-service"
  secrets:
    amqpUser: "guest"
    amqpPassword: "guest"
  persistence:
    size: 10Gi
    accessMode: ReadWriteOnce
    storageClass: ""

rabbitmq:
  name: rabbitmq
  replicaCount: 1
  image:
    registry: rabbitmq
    tag: "3.13-management"
    pullPolicy: IfNotPresent
  containerName: rabbitmq
  containerPort:
    amqp: 5672
    management: 15672
    cluster: 25672
  resources:
    limits:
      cpu: 500m
      memory: 1Gi
    requests:
      cpu: 250m
      memory: 512Mi
  service:
    type: ClusterIP
    ports:
      amqp: 5672
      management: 15672
      cluster: 25672
  secrets:
    defaultUser: "guest"
    defaultPass: "guest"
    erlangCookie: "secret-cookie-123"
  persistence:
    size: 10Gi
    accessMode: ReadWriteOnce
    storageClass: ""

ingress:
  className: "nginx"
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /
    nginx.ingress.kubernetes.io/proxy-body-size: "10m"
  hosts:
    - host: "converter.local"
      paths:
        - path: /
          pathType: Prefix
          service:
            name: "app-service"
            port: 80
        - path: /api
          pathType: Prefix
          service:
            name: "api-service"
            port: 3000
  tls: []
